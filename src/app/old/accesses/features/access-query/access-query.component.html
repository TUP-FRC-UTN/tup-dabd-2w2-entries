<div class="d-flex justify-content-center align-items-center vh-100" style="background-color: #f57c00;">
    <div class="card p-4" style="max-width: 600px; border-radius: 15px; width: 100%;">
        <h2 class="text-center mb-4">Consulta de Accesos</h2>

        <form (ngSubmit)="queryAccess()">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <div class="form-group">
                        <label for="accessType" class="form-label">Tipo de Acceso</label>
                        <input type="text" class="form-control" id="accessType" [(ngModel)]="accessType"
                            name="accessType" required>
                    </div>
                </div>

                <div class="col-md-6 mb-3">
                    <div class="form-group">
                        <label for="plotId" class="form-label">ID de la Parcela</label>
                        <input type="number" class="form-control" id="plotId" [(ngModel)]="plotId" name="plotId">
                    </div>
                </div>

                <div class="col-md-6 mb-3">
                    <div class="form-group">
                        <label for="dateFrom" class="form-label">Fecha Desde</label>
                        <input type="date" class="form-control" id="dateFrom" [(ngModel)]="dateFrom" name="dateFrom"
                            required>
                    </div>
                </div>

                <div class="col-md-6 mb-3">
                    <div class="form-group">
                        <label for="dateTo" class="form-label">Fecha Hasta</label>
                        <input type="date" class="form-control" id="dateTo" [(ngModel)]="dateTo" name="dateTo" required>
                    </div>
                </div>

                <div class="col-md-6 mb-3">
                    <div class="form-group">
                        <label for="visitorId" class="form-label">ID del Visitante</label>
                        <input type="number" class="form-control" id="visitorId" [(ngModel)]="visitorId"
                            name="visitorId">
                    </div>
                </div>

                <div class="col-md-6 mb-3">
                    <div class="form-group">
                        <label for="supplierId" class="form-label">ID del Proveedor</label>
                        <input type="number" class="form-control" id="supplierId" [(ngModel)]="supplierId"
                            name="supplierId">
                    </div>
                </div>
            </div>

            <div class="d-grid gap-2">
                <button type="submit" class="btn btn-warning">Consultar Accesos</button>
                <button type="button" class="btn btn-secondary">Cancelar</button>
            </div>
        </form>

        @if (accessRecords.length > 0) {
            <div class="mt-4" style="max-height: 300px; overflow-y: auto;">
                <h3>Resultados</h3>
                <table class="table table-striped table-responsive">
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>Apellido</th>
                            <th>Documento</th>
                            <th>Entrada</th>
                            <th>Salida</th>
                            <th>Veh√≠culo</th>
                            <th>Comentarios</th>
                        </tr>
                    </thead>
                    <tbody>
                        @for (record of accessRecords; track $index) {
                            <tr>
                                <td>{{ record.first_name }}</td>
                                <td>{{ record.last_name }}</td>
                                <td>{{ record.doc_number }}</td>
                                <td>{{ record.entry_date_time | date: 'short' }}</td>
                                <td>{{ record.exit_date_time | date: 'short' }}</td>
                                <td>{{ record.vehicle_description }} ({{ record.vehicle_reg }})</td>
                                <td>{{ record.comments }}</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        }
    </div>
</div>